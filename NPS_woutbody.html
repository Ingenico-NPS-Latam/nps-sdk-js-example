

<!-- SANDBOX -->
<script type="text/javascript" src="https://sandbox.nps.com.ar/sdk/v1/NPS.js"></script>

<!-- STAGING -->
<!-- <script type="text/javascript" src="https://implementacion.nps.com.ar/sdk/v1/NPS.js"></script> -->

<!-- PRODUCTION -->
<!--<script type="text/javascript" src="https://services2.nps.com.ar/sdk/v1/NPS.js"></script> -->

<!-- To prevent problems with some older browsers, put the script tag in the page <head> or as the final line in the <body> at the end of your code. -->
<!-- NPS.js should be loaded directly from Ingenico NPS servers. For example: https://sandbox.nps.com.ar/sdk/v1/NPS.js [^] -->

<script type="text/javascript">
/**
 * Configure Your Client Session
 *
 * You should configure your client session to be able to start to use NPS.js to identify your site while communicating with NPS. 
 * To do this, use the call setClientSession. Remember to replace the client session call on sandbox with the production domain when you are ready to create real charges.
 * 
 * You must obtain your client session by calling from server-side the webservice method “CreateClientSession”
*/
NPS.setClientSession("YOUR_CLIENT_SESSION");

// NPS Merchant ID
NPS.setMerchantId("YOUR_MERCHANT_ID");

// psp_Amount
// NPS.setAmount('120050');

// psp_Country
NPS.setCountry('ARG');

// psp_Currency
NPS.setCurrency('032');

// Device Fingerprint Must Be Created Or Not
// NPS.setUseDeviceFingerprint(false);



var npsSuccessResponseHandler;
npsSuccessResponseHandler = function(paymentMethodToken) {
  alert(paymentMethodToken.id);
};

var npsErrorResponseHandler;
npsErrorResponseHandler = function(response) {
  console.log(response);
};


PaymentMethodTokenParams = {
      card: {
        holder_name: 'John Smith',
        number: '4507990000000010',
        exp_month: '01',
        exp_year: '2019',
        // exp_date: '1901', // you can choose exp_date over exp_month+exp_year to send expiry date in one field only
        security_code: '123',
      } 
};


NPS.paymentMethodToken.create(PaymentMethodTokenParams, npsSuccessResponseHandler, npsErrorResponseHandler);
</script>